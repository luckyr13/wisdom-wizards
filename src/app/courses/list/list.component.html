<mat-toolbar class="fadeIn" color="accent">
  <mat-icon 
  	aria-hidden="false"
  	aria-label="Courses list">school</mat-icon>
	<span>&nbsp;Courses</span>
	<span class="toolbar-spacer"></span>
  <button 
  	*ngIf="hideSubjects"
  	mat-icon-button 
  	class="fadeIn" 
  	(click)="showSubjects()"
    matTooltip="Go back"
  	aria-label="Go back">
    <mat-icon>navigate_before</mat-icon>
  </button>

</mat-toolbar>
<mat-progress-bar 
	mode="indeterminate"
	*ngIf="loading"
	class="fadeIn"></mat-progress-bar>
<div class="loading-txt text-center fadeIn" *ngIf="loading" >Loading ... </div>

<div class="container list-container-parent" >
	<div class="row" *ngIf="!loading && !hideSubjects">
  	<div class="col list-container">
  		<mat-card>
				<h1 class="text-center">Select a subject</h1>
			</mat-card>
		</div>
	</div>
	<div class="row fadeIn" *ngIf="!loading && !hideSubjects">
  	<div 
  		class="col-3 subject-card" 
  		*ngFor="let subject of subjects; let subjectId = index">
  		<mat-card (click)="searchCoursesBySubject(subjectId)">
				<div class="text-center subject-card-title">
					{{ subject }} <span class="text-center" *ngIf="courses[subjectId]">
					({{ courses[subjectId].length }})
				</span>
				</div>
			</mat-card>
		</div>
	</div>

	<div class="container" *ngIf="!loading && hideSubjects">
		<div class="row">
	  	<div class="col list-container">
	  		<mat-card>
					<h1 class="text-center">Courses</h1>
				</mat-card>
			</div>
		</div>
		<div class="row fadeIn">
	  	<div 
	  		class="col" 
	  		*ngIf="filteredCourses">
	  		<mat-card *ngIf="!filteredCourses">
					<div class="text-center ">
						No results found.
					</div>
				</mat-card>
			</div>
		</div>
		<div class="row fadeIn">
	  	<div 
	  		class="col-4 subject-card" 
	  		*ngFor="let course of filteredCourses">
	  		<mat-card>
	  			<h2 style="font-weight: bold">{{ course.name }}</h2>
	        <p>Description: {{ course.description }}</p>
	        <p>ImgURL: {{ course.imgUrl }}</p>
	        <p>Price: {{ course.price }} winston</p>
	        <p>Students: {{ course.numUsers.length }} winston</p>
	        <p>Rating: {{ course.rating }} by {{ course.evaluators }} students</p>

					<div class="text-center subject-card-title">
						<a mat-button [routerLink]="['/courses', course.id]">
							View
						</a>
					</div>
				</mat-card>
			</div>
		</div>
	</div>
</div>
